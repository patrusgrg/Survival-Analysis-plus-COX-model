# ğŸ—ï¸ Project Architecture Overview

## System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SURVIVAL ANALYSIS SYSTEM                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Raw Data      â”‚
â”‚  (heart.csv)    â”‚  918 samples, 11 features, 55.4% event rate
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   JUPYTER NOTEBOOK ANALYSIS                          â”‚
â”‚  notebooks/01_Survival_Analysis_Cox_Model.ipynb                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  Phase 1: Data Prep  â”€â”€â”€â”€â”€â–º Phase 2: Kaplan-Meier  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â€¢ Load data          â€¢ Overall curves              â”‚                â”‚
â”‚  â€¢ Explore structure  â€¢ Stratified analysis         â”‚                â”‚
â”‚  â€¢ Handle missing     â€¢ Log-rank testing            â”‚                â”‚
â”‚  â€¢ Encode cats        â€¢ Survival statistics          â”‚                â”‚
â”‚  â€¢ Scale numerics     â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚  â€¢ Train/test split                                                   â”‚
â”‚         â”‚                                                              â”‚
â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚         â”‚              â”‚                                              â”‚
â”‚         â–¼              â–¼                                              â”‚
â”‚    Phase 3: Cox    Phase 4: Export                                   â”‚
â”‚    â€¢ Fit model     â€¢ Save cox_model.pkl              â”‚                â”‚
â”‚    â€¢ Hazard ratios â€¢ Save artifacts.pkl             â”‚                â”‚
â”‚    â€¢ Diagnostics   â€¢ Save summary.txt                â”‚                â”‚
â”‚    â€¢ Predictions                                     â”‚                â”‚
â”‚         â”‚                                             â”‚                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                             â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜
                        â”‚                             â”‚
                        â–¼                             â–¼
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  FastAPI Backend     â”‚    â”‚  Streamlit Frontend      â”‚
            â”‚  (backend/main.py)   â”‚    â”‚  (frontend/app.py)       â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
            â”‚ â€¢ /health            â”‚    â”‚ â€¢ Patient Input Form     â”‚
            â”‚ â€¢ /predict           â”‚â—„â”€â”€â–ºâ”‚ â€¢ Real-time Predictions  â”‚
            â”‚ â€¢ /predict_batch     â”‚    â”‚ â€¢ Risk Visualizations    â”‚
            â”‚ â€¢ /model-info        â”‚    â”‚ â€¢ Survival Charts        â”‚
            â”‚ â€¢ Swagger UI         â”‚    â”‚ â€¢ API Configuration      â”‚
            â”‚                      â”‚    â”‚                          â”‚
            â”‚ Model: cox_model.pkl â”‚    â”‚ http://localhost:8501    â”‚
            â”‚ Artifacts: artifacts â”‚    â”‚                          â”‚
            â”‚ Port: 8000           â”‚    â”‚                          â”‚
            â”‚ Framework: FastAPI   â”‚    â”‚ Framework: Streamlit     â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚                                â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                                â”‚
                    â–¼                                â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Docker Images       â”‚        â”‚  Docker Compose      â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚ Backend Container    â”‚        â”‚ Orchestration        â”‚
         â”‚ â€¢ Python 3.11-slim   â”‚        â”‚ â€¢ Network config     â”‚
         â”‚ â€¢ FastAPI + Uvicorn  â”‚        â”‚ â€¢ Volume mapping     â”‚
         â”‚ â€¢ Gunicorn workers   â”‚        â”‚ â€¢ Service deps       â”‚
         â”‚ â€¢ Health checks      â”‚        â”‚ â€¢ Port mapping       â”‚
         â”‚                      â”‚        â”‚ â€¢ Environment vars   â”‚
         â”‚ Frontend Container   â”‚        â”‚                      â”‚
         â”‚ â€¢ Python 3.11-slim   â”‚        â”‚ File: docker-        â”‚
         â”‚ â€¢ Streamlit          â”‚        â”‚ compose.yml          â”‚
         â”‚ â€¢ Health checks      â”‚        â”‚                      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚                                â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                         â”‚
                    â–¼                         â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Local Deployment      â”‚    â”‚  Cloud Deployment   â”‚
         â”‚  (docker-compose up)   â”‚    â”‚                     â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚ API: localhost:8000    â”‚    â”‚ Option A: Render    â”‚
         â”‚ UI: localhost:8501     â”‚    â”‚ â€¢ Docker image      â”‚
         â”‚ Docs: localhost:8000   â”‚    â”‚ â€¢ GitHub push       â”‚
         â”‚ /docs                  â”‚    â”‚ â€¢ Web Service       â”‚
         â”‚                        â”‚    â”‚                     â”‚
         â”‚ Time: ~2 minutes       â”‚    â”‚ Option B: GCP Cloud â”‚
         â”‚ Command:               â”‚    â”‚ Run                 â”‚
         â”‚ docker-compose up -d   â”‚    â”‚ â€¢ Artifact Registry â”‚
         â”‚                        â”‚    â”‚ â€¢ Deploy container  â”‚
         â”‚                        â”‚    â”‚ â€¢ HTTPS auto        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                     â”‚
                                       â”‚ Time: ~10 minutes   â”‚
                                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DATA FLOW PIPELINE                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

USER INPUT (Streamlit)
    â”‚
    â”œâ”€ Patient characteristics (11 parameters)
    â”‚  â€¢ Age, Sex, Blood Pressure
    â”‚  â€¢ Cholesterol, Heart Rate
    â”‚  â€¢ Chest Pain Type, etc.
    â”‚
    â–¼
HTTP Request (JSON)
    â”‚
    â”œâ”€ POST /predict
    â”‚  Content-Type: application/json
    â”‚  {
    â”‚    "time": 55,
    â”‚    "sex": 0,
    â”‚    "chest_pain_type": 0,
    â”‚    ...
    â”‚  }
    â”‚
    â–¼
FASTAPI BACKEND
    â”‚
    â”œâ”€ Pydantic Validation âœ“
    â”‚  â””â”€ Check: types, ranges, formats
    â”‚
    â”œâ”€ Load Cox Model
    â”‚  â””â”€ cox_model.pkl
    â”‚
    â”œâ”€ Load Preprocessing
    â”‚  â””â”€ preprocessing_artifacts.pkl
    â”‚
    â”œâ”€ Create DataFrame
    â”‚  â””â”€ Convert JSON to pandas
    â”‚
    â”œâ”€ Select Features
    â”‚  â””â”€ Keep only model features (11)
    â”‚
    â”œâ”€ Predict
    â”‚  â”œâ”€ Calculate partial hazard (risk score)
    â”‚  â”œâ”€ Predict survival function
    â”‚  â””â”€ Extract survival probabilities
    â”‚
    â”œâ”€ Classify Risk
    â”‚  â”œâ”€ HR < 0.5  â†’ "Low Risk"
    â”‚  â”œâ”€ 0.5-1.5   â†’ "Medium Risk"
    â”‚  â””â”€ > 1.5     â†’ "High Risk"
    â”‚
    â”œâ”€ Calculate Median Survival
    â”‚  â””â”€ Age where survival < 50%
    â”‚
    â–¼
HTTP Response (JSON)
    â”‚
    â”œâ”€ {
    â”‚    "hazard_ratio": 0.845,
    â”‚    "risk_score": "Low Risk",
    â”‚    "median_survival_age": 75.2,
    â”‚    "survival_probabilities": {
    â”‚      "60": 0.92,
    â”‚      "65": 0.87,
    â”‚      "70": 0.79
    â”‚    },
    â”‚    "timestamp": "2024-01-15T10:30:00"
    â”‚  }
    â”‚
    â–¼
STREAMLIT FRONTEND
    â”‚
    â”œâ”€ Display Risk Score
    â”‚  â””â”€ Color-coded: Green (Low), Orange (Med), Red (High)
    â”‚
    â”œâ”€ Show Hazard Ratio
    â”‚  â””â”€ Numeric risk metric
    â”‚
    â”œâ”€ Plot Risk Gauge
    â”‚  â””â”€ Polar visualization
    â”‚
    â”œâ”€ Plot Patient Radar
    â”‚  â””â”€ Normalized characteristics
    â”‚
    â”œâ”€ Show Survival Probabilities
    â”‚  â””â”€ Progress bars + percentages
    â”‚
    â”œâ”€ Display Median Survival
    â”‚  â””â”€ Years from current age
    â”‚
    â–¼
USER SEES RESULTS
    â”‚
    â””â”€ Comprehensive risk assessment with visualizations
```

---

## Technology Stack Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       TECHNOLOGY STACK                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  ANALYSIS LAYER                                                      â”‚
â”‚  â”œâ”€ Python 3.11                                                     â”‚
â”‚  â”œâ”€ Jupyter Notebook                                                â”‚
â”‚  â”œâ”€ pandas (data manipulation)                                      â”‚
â”‚  â”œâ”€ numpy (numerical computing)                                     â”‚
â”‚  â”œâ”€ scikit-learn (preprocessing)                                    â”‚
â”‚  â”œâ”€ lifelines (survival analysis) â­                               â”‚
â”‚  â”œâ”€ matplotlib / seaborn (visualization)                           â”‚
â”‚  â””â”€ joblib (model serialization)                                   â”‚
â”‚                                                                       â”‚
â”‚  BACKEND LAYER                                                       â”‚
â”‚  â”œâ”€ FastAPI 0.104.1 (web framework)                                â”‚
â”‚  â”œâ”€ Uvicorn 0.24.0 (ASGI server)                                   â”‚
â”‚  â”œâ”€ Pydantic 2.5.0 (data validation)                               â”‚
â”‚  â”œâ”€ Gunicorn 21.2.0 (production WSGI)                             â”‚
â”‚  â”œâ”€ python-multipart (file upload)                                 â”‚
â”‚  â””â”€ Cox Model (lifelines)                                          â”‚
â”‚                                                                       â”‚
â”‚  FRONTEND LAYER                                                      â”‚
â”‚  â”œâ”€ Streamlit 1.29.0 (UI framework)                                â”‚
â”‚  â”œâ”€ requests (HTTP client)                                         â”‚
â”‚  â”œâ”€ matplotlib (plots)                                             â”‚
â”‚  â”œâ”€ seaborn (visualizations)                                       â”‚
â”‚  â””â”€ plotly (interactive charts)                                    â”‚
â”‚                                                                       â”‚
â”‚  CONTAINERIZATION LAYER                                             â”‚
â”‚  â”œâ”€ Docker (container runtime)                                     â”‚
â”‚  â”œâ”€ Docker Compose (orchestration)                                 â”‚
â”‚  â”œâ”€ Python 3.11-slim (base image)                                 â”‚
â”‚  â””â”€ Health checks (monitoring)                                     â”‚
â”‚                                                                       â”‚
â”‚  DEPLOYMENT OPTIONS                                                 â”‚
â”‚  â”œâ”€ Local (docker-compose)                                        â”‚
â”‚  â”œâ”€ Render.com (simple cloud)                                     â”‚
â”‚  â”œâ”€ Google Cloud Run (serverless)                                 â”‚
â”‚  â”œâ”€ AWS (ECS/Fargate)                                            â”‚
â”‚  â””â”€ Kubernetes (orchestration)                                     â”‚
â”‚                                                                       â”‚
â”‚  DEVELOPMENT TOOLS                                                  â”‚
â”‚  â”œâ”€ Git / GitHub (version control)                                â”‚
â”‚  â”œâ”€ GitHub Actions (CI/CD)                                        â”‚
â”‚  â”œâ”€ VS Code (IDE)                                                 â”‚
â”‚  â”œâ”€ Pytest (testing)                                              â”‚
â”‚  â”œâ”€ Black (code formatting)                                       â”‚
â”‚  â””â”€ Flake8 (linting)                                             â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DEPLOYMENT OPTIONS                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

OPTION 1: LOCAL DEVELOPMENT
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Your Computer                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚   Backend    â”‚    â”‚  Frontend    â”‚   â”‚
â”‚ â”‚ :8000        â”‚â—„â”€â”€â–ºâ”‚ :8501        â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚ Command: docker-compose up -d          â”‚
â”‚ Time: 2 minutes                        â”‚
â”‚ Cost: $0 (free)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

OPTION 2: RENDER (SIMPLE CLOUD)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Render.com                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Web Service (Docker)           â”‚          â”‚
â”‚  â”‚                                  â”‚          â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚          â”‚
â”‚  â”‚   â”‚  Backend API             â”‚   â”‚          â”‚
â”‚  â”‚   â”‚  â€¢ Port: 8000            â”‚   â”‚          â”‚
â”‚  â”‚   â”‚  â€¢ Always on             â”‚   â”‚          â”‚
â”‚  â”‚   â”‚  â€¢ Automatic restart     â”‚   â”‚          â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚          â”‚
â”‚  â”‚                                  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  Streamlit Cloud                 â”‚          â”‚
â”‚  â”‚  â€¢ GitHub integration            â”‚          â”‚
â”‚  â”‚  â€¢ Auto-deploy on push           â”‚          â”‚
â”‚  â”‚  â€¢ Public URL                    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                 â”‚
â”‚  Cost: Free tier available, $7+/month         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

OPTION 3: GOOGLE CLOUD RUN (PRODUCTION)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Google Cloud Platform                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚  Artifact Registry             â”‚                      â”‚
â”‚  â”‚  â€¢ Docker Image Storage        â”‚                      â”‚
â”‚  â”‚  â€¢ Version Control             â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚            â”‚                                              â”‚
â”‚            â–¼                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚  â”‚  Cloud Run                     â”‚                      â”‚
â”‚  â”‚  â€¢ Serverless Container        â”‚                      â”‚
â”‚  â”‚  â€¢ Auto-scaling                â”‚                      â”‚
â”‚  â”‚  â€¢ HTTPS (auto)                â”‚                      â”‚
â”‚  â”‚  â€¢ Health checks               â”‚                      â”‚
â”‚  â”‚  â€¢ Public URL                  â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                           â”‚
â”‚  Cost: Pay per request, ~$0-10/month (free tier)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Model Pipeline Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SURVIVAL ANALYSIS PIPELINE                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

INPUT: Patient Data (11 features)
    â”‚
    â”œâ”€ Age              (continuous, years)
    â”œâ”€ Sex              (binary, M/F)
    â”œâ”€ Chest Pain       (categorical, 3 types)
    â”œâ”€ Resting BP       (continuous, mmHg)
    â”œâ”€ Cholesterol      (continuous, mg/dL)
    â”œâ”€ Fasting BS       (binary, Y/N)
    â”œâ”€ Resting ECG      (categorical, 3 types)
    â”œâ”€ Max Heart Rate   (continuous, bpm)
    â”œâ”€ Exercise Angina  (binary, Y/N)
    â”œâ”€ ST Depression    (continuous, mV)
    â””â”€ ST Slope         (categorical, 3 types)
         â”‚
         â–¼
PREPROCESSING
    â”‚
    â”œâ”€ Encoding
    â”‚  â””â”€ Categorical â†’ Numeric (0,1,2...)
    â”‚
    â”œâ”€ Scaling
    â”‚  â””â”€ StandardScaler (Î¼=0, Ïƒ=1)
    â”‚
    â”œâ”€ Imputation
    â”‚  â””â”€ Zero cholesterol â†’ median
    â”‚
    â”œâ”€ Feature Selection
    â”‚  â””â”€ Keep 11 model features
    â”‚
    â–¼
COX PROPORTIONAL HAZARDS MODEL
    â”‚
    â”œâ”€ Partial Hazard Calculation
    â”‚  â””â”€ h(t) = hâ‚€(t) Ã— exp(Î²â‚xâ‚ + Î²â‚‚xâ‚‚ + ... + Î²â‚â‚xâ‚â‚)
    â”‚
    â”œâ”€ Hazard Ratio Extraction
    â”‚  â””â”€ HR = exp(Î²) for each feature
    â”‚
    â”œâ”€ Survival Function Prediction
    â”‚  â””â”€ S(t) = exp(-âˆ«h(u)du)
    â”‚
    â”œâ”€ Risk Stratification
    â”‚  â”œâ”€ Low:    HR < 0.5
    â”‚  â”œâ”€ Medium: HR 0.5-1.5
    â”‚  â””â”€ High:   HR > 1.5
    â”‚
    â–¼
OUTPUT: Risk Assessment
    â”‚
    â”œâ”€ Hazard Ratio        (0.5-2.0 typically)
    â”œâ”€ Risk Category        (Low/Med/High)
    â”œâ”€ Median Survival      (years)
    â”œâ”€ Survival Probs       (age range)
    â”œâ”€ Confidence Intervals (95% CI)
    â””â”€ Timestamp            (prediction time)
```

---

## Component Interaction Diagram

```
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚    USER BROWSER                      â”‚
         â”‚  http://localhost:8501               â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   STREAMLIT FRONTEND    â”‚
                â”‚   frontend/app.py       â”‚
                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                â”‚ Input     â”‚ Visualize   â”‚
                â”‚ Form      â”‚ Results    â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                HTTP Requestâ”‚ JSON
                            â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   FASTAPI BACKEND                   â”‚
         â”‚   backend/main.py                   â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚ Validate Input   â”‚ Load Model        â”‚
         â”‚ Make Prediction  â”‚ Calculate Risk    â”‚
         â”‚ Format Response  â”‚ Return Results    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  cox_model.pkl â”‚ â”‚ artifacts.pkl   â”‚
                    â”‚ (trained model)â”‚ â”‚ (preprocessing) â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## CI/CD Pipeline Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    GITHUB ACTIONS CI/CD                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PUSH to main/develop
    â”‚
    â–¼
GITHUB ACTIONS TRIGGERED
    â”‚
    â”œâ”€ Lint Check
    â”‚  â”œâ”€ flake8 scan
    â”‚  â””â”€ Code style validation
    â”‚
    â”œâ”€ Security Scan
    â”‚  â”œâ”€ Bandit scan
    â”‚  â””â”€ Dependency check (safety)
    â”‚
    â”œâ”€ Unit Tests
    â”‚  â”œâ”€ Test endpoints
    â”‚  â”œâ”€ Test predictions
    â”‚  â””â”€ Test error handling
    â”‚
    â”œâ”€ Docker Build
    â”‚  â”œâ”€ Build backend image
    â”‚  â””â”€ Test image functionality
    â”‚
    â”œâ”€ Results
    â”‚  â”œâ”€ âœ… All tests pass
    â”‚  â”œâ”€ âœ… Security OK
    â”‚  â””â”€ âœ… Ready to merge
    â”‚
    â–¼
AUTO-DEPLOY (on main push)
    â”‚
    â”œâ”€ Push to Container Registry
    â”œâ”€ Deploy to production
    â””â”€ Run health checks
```

---

**This diagram provides a complete visual overview of the project architecture,  
data flow, technology stack, deployment options, and CI/CD pipeline.**

For more details, see the main documentation files.
